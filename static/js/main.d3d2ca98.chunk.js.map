{"version":3,"sources":["context.js","components/game-start.js","components/menu.js","components/wrapper.js","pages/home.js","components/card.js","components/navbar.js","components/play-button.js","pages/game.js","app.js","serviceWorker.js","index.js"],"names":["CAH","React","createContext","randomPick","arr","index","Math","floor","random","length","val","Context","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","getBlackCard","used","arguments","undefined","blacks","blackCards","filter","e","i","indexOf","getWhiteCard","whites","whiteCards","state","history","react_default","a","createElement","Provider","value","objectSpread","fn","children","Component","StartButton","styled","div","_templateObject","start","game_start","_ref","_ref$start","onClick","menu_templateObject","_templateObject2","Wrapper","wrapper_templateObject","Container","home_templateObject","setState","setTimeout","push","Card","card_templateObject","question","active","components_card","_ref$question","text","_ref$active","dangerouslySetInnerHTML","__html","Menu","navbar_templateObject","Item","span","navbar_templateObject2","play_button_templateObject","game_templateObject","PlayerHand","game_templateObject2","shuffle","array","temporaryValue","randomIndex","currentIndex","Comp","Game","select","card","_this$state","pick","black_card","pickedCards","_ref2","concat","toConsumableArray","slice","play","_this$state2","_ref3","usedBlack","usedWhite","generateNew","_this$props$context$f","context","_this$state3","player_hand","newCards","Array","fill","map","_props$context$fn","black","reduce","prev","indexes","cards","_this2","_this$state4","game_Container","Link","to","navbar_Item","key","play_button","withContext","_React$Component2","_class","apply","inherits","createClass","Consumer","assign","App","context_Context","BrowserRouter","Fragment","Route","path","exact","component","Home","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","error","ReactDOM","render","app","document","getElementById","URL","process","href","origin","addEventListener","fetch","response","contentType","headers","get","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.d3d2ca98.chunk.js","sourcesContent":["import React from 'react';\nimport { blackCards, whiteCards } from './lib/cah.json';\n\nconst CAH = React.createContext();\n\nconst randomPick = (arr) => {\n  const index = Math.floor(Math.random() * arr.length);\n  return {\n    val: arr[index],\n    index\n  }\n}\n\nclass Context extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      history: []\n    };\n  }\n  getBlackCard = (used = []) => {\n    const blacks = blackCards.filter((e, i) => used.indexOf(i) < 0);\n    return randomPick(blacks);\n  }\n  getWhiteCard = (used = []) => {\n    const whites = whiteCards.filter((e, i) => used.indexOf(i) < 0);\n    return randomPick(whites);\n  }\n  render() {\n    return (\n      <CAH.Provider\n        value={{\n          ...this.state,\n          fn: {\n            getBlackCard: this.getBlackCard,\n            getWhiteCard: this.getWhiteCard\n          }\n        }}\n      >\n        {this.props.children}\n      </CAH.Provider>\n    )\n  }\n}\n\nconst withContext = (Comp) => (\n  class extends React.Component {\n    render() {\n      return (\n        <CAH.Consumer>\n          {context => <Comp {...this.props} context={context} />}\n        </CAH.Consumer>\n      )\n    }\n  }\n)\n\n\nexport {\n  Context, CAH, withContext\n}","import React from 'react';\nimport styled from 'styled-components';\n\nconst StartButton = styled.div`\n  font-family:'Amiko';\n  font-weight:600;\n  font-size:20px;\n  display:flex;\n  justify-content:center;\n  align-items:center;\n  width:${props => props.start ? `100%` : `50px`};\n  height: ${props => props.start ? `100%` : `50px`};\n  padding: 15px;\n  border-radius:${props => props.start ? `0` : `100%`};\n  background: #e55e4b;\n  color: #fffffd;\n  margin: ${props => props.start ? `0` : `10px`};\n  transition: all 500ms cubic-bezier(0.860, 0.000, 0.070, 1.000);\n  z-index:99;\n`;\n\nexport default ({ start = false, onClick }) => (\n  <StartButton start={start ? 1 : 0} onClick={onClick}>\n    GO\n  </StartButton>\n)\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Sub = styled.div`\n  display:flex;\n  flex-direction:row;\n  width:100%;\n  height:65px;\n  padding:10px;\n  background:#e55e4b;\n  position:absolute;\n  bottom:0;\n  left:0;\n  right:0;\n  box-sizing: border-box;\n`\nconst Item = styled.div`\n  font-family:'Amiko';\n  font-weight:600;\n  display:flex;\n  flex:1;\n  align-items:center;\n  justify-content:center;\n  color:#fffffd;\n  cursor:pointer;\n  font-size:16;\n  transition: font-size 250ms linear;\n  &:hover{\n    font-size:20px\n  }\n`\n\nexport const SubMenu = (props) => (\n  <Sub>\n    {props.children}\n  </Sub>\n)\n\nexport const MenuItem = ({ children, onClick = () => { } }) => (\n  <Item onClick={onClick}>\n    {children}\n  </Item>\n)","import styled from 'styled-components';\n\nconst Wrapper = styled.div`\n  width:100%;\n  height:100%;\n  display:flex;\n  position:relative;\n  background-color:#1f1f1f;\n`\n\nexport default Wrapper;","import React from 'react';\nimport styled from 'styled-components';\nimport StartButton from '../components/game-start';\nimport { SubMenu, MenuItem } from '../components/menu';\nimport Wrapper from '../components/wrapper';\n\nconst Container = styled(Wrapper)`\n  flex-direction:column;\n  align-items:center;\n  justify-content:center;\n`\n\nexport default class extends React.Component {\n  state = {\n    start: false\n  }\n  start = () => {\n    this.setState({ start: true }, () => {\n      setTimeout(() => {\n        const { history } = this.props;\n        history.push('/game');\n      }, 500);\n    });\n  }\n  render() {\n    const { start } = this.state;\n    return (\n      <Container>\n        <StartButton start={start} onClick={this.start} />\n        {/* <SubMenu>\n          <MenuItem>Settings</MenuItem>\n          <MenuItem>Help</MenuItem>\n        </SubMenu> */}\n      </Container>\n    )\n  }\n}","import React from 'react';\nimport styled from 'styled-components';\n\nconst Card = styled.div`\n  padding:10px;\n  background-color:${props => props.question ? '#171717' : '#f3f3f3'};\n  color:${props => props.question ? '#fcfcfc' : '#050505'};\n  box-shadow: ${props => props.active ? '0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)' : ''};\n  border-radius:10px;\n  margin:10px;\n  font-family:'Amiko';\n  font-weight:${props => props.question ? 400 : 600};\n  transition: all 250ms linear;\n  line-height:1.5;\n`;\n\nexport default ({ question = false, text, onClick, active = false }) => (\n  <Card question={question}\n    dangerouslySetInnerHTML={{ __html: text }}\n    onClick={onClick}\n    active={active}\n  />\n)\n","import styled from 'styled-components';\n\nexport const Menu = styled.div`\n  min-height:55px;\n  width:100%;\n  display:flex;\n  flex-direction:row;\n  flex-wrap:wrap;\n  align-items:center;\n  background:#e55e4b;\n  box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);\n`;\n\nexport const Item = styled.span`\n  font-family:'Amiko';\n  font-weight:600;\n  display:flex;\n  padding:5px;\n  color:#fffffd;\n`","import styled from 'styled-components';\n\nexport default styled.div`\n  font-family:'Amiko';\n  font-weight:600;\n  width:100%;\n  height:55px;\n  display:flex;\n  justify-content:center;\n  align-items:center;\n  background:${props => props.active ? `#11b719` : `#ECEFF5`};\n  color:${props => props.active ? `#fff` : `#4c5765`};\n  transition: all 250ms linear;\n`","import React from 'react';\nimport { withContext } from '../context';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport Wrapper from '../components/wrapper';\nimport Card from '../components/card';\nimport { Menu, Item } from '../components/navbar';\nimport PlayButton from '../components/play-button';\n\nconst Container = styled(Wrapper)`\n  background:#fff;\n  justify-content:center;\n  align-items:center;\n  flex-direction:column;\n`\nconst PlayerHand = styled.div`\n  display:grid;\n  grid-template-columns:1fr 1fr;\n  margin-top:auto;\n`\n\nfunction shuffle(array) {\n  ///https://github.com/Daplie/knuth-shuffle/blob/master/index.js\n  let currentIndex = array.length, temporaryValue, randomIndex;\n  while (0 !== currentIndex) {\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n  return array;\n}\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n\n    const { fn: { getBlackCard, getWhiteCard } } = props.context;\n    const black = getBlackCard();\n    const whites = Array(6).fill('').reduce(prev => {\n      const card = getWhiteCard(prev.indexes);\n      return {\n        cards: [...prev.cards, card],\n        indexes: [...prev.indexes, card.index]\n      }\n    }, {\n        cards: [],\n        indexes: []\n      });\n    this.state = {\n      black_card: black,\n      player_hand: whites.cards,\n      usedWhite: [],\n      usedBlack: [],\n      pickedCards: []\n    }\n  }\n  select = (card) => () => {\n    const { black_card: { val: { pick } }, pickedCards } = this.state;\n    if (pickedCards.indexOf(card.index) > -1) {\n      this.setState(({ pickedCards }) => ({\n        pickedCards: pickedCards.filter(e => e !== card.index)\n      }))\n      return;\n    }\n    this.setState(({ pickedCards }) => ({\n      pickedCards: [card.index, ...pickedCards].slice(0, pick)\n    }));\n  }\n  play = () => {\n    const { pickedCards, black_card } = this.state;\n    const active = pickedCards.length === black_card.val.pick;\n    if (!active)\n      return;\n\n    this.setState(({ black_card, pickedCards, usedBlack, usedWhite }) => ({\n      usedBlack: [...usedBlack, black_card.index],\n      usedWhite: [...usedWhite, ...pickedCards],\n    }), () => {\n      this.generateNew();\n    })\n  }\n  generateNew = () => {\n    const { fn: { getBlackCard, getWhiteCard } } = this.props.context;\n    const { pickedCards, usedWhite, usedBlack, player_hand } = this.state;\n    const newCards = Array(pickedCards.length).fill('').map(() => getWhiteCard(usedWhite));\n    const question = getBlackCard(usedBlack);\n    this.setState({\n      player_hand: [...shuffle([...player_hand.filter(e => pickedCards.indexOf(e.index) < 0), ...newCards])],\n      black_card: question,\n      pickedCards: []\n\n    });\n  }\n  render() {\n    const { black_card, player_hand, pickedCards } = this.state;\n    const active = pickedCards.length === black_card.val.pick;\n    return (\n      <Container>\n        <Menu>\n          <Link to={'/'}><Item>Back</Item></Link>\n        </Menu>\n        <Card question text={black_card.val.text} />\n\n        <PlayerHand>\n          {player_hand.map((e, index) => (\n            <Card key={index} text={e.val}\n              onClick={this.select(e)}\n              active={pickedCards.indexOf(e.index) > -1}\n            />\n          ))}\n        </PlayerHand>\n        <PlayButton active={active} onClick={this.play}>\n          Pick {black_card.val.pick}\n        </PlayButton>\n      </Container>\n    )\n  }\n}\n\nexport default withContext(Game);","import React from 'react';\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\n\nimport { Context } from './context';\n\nimport Home from './pages/home';\nimport Game from './pages/game';\n\nconst App = () => {\n  return (\n    <Context>\n      <Router>\n        <>\n          <Route path={'/'} exact component={Home} />\n          <Route path={'/game'} exact component={Game} />\n        </>\n      </Router>\n    </Context>\n  )\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './reset.css';\nimport './fonts.css';\nimport App from './app';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register();"],"sourceRoot":""}